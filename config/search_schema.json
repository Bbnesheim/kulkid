{
  "meta": {
    "project": "kulkid.no",
    "environment": "production",
    "generated_at": "2025-10-16T01:43:17+02:00",
    "generated_by": "Codex Automation Phase 1"
  },
  "search_configuration": {
    "fields": {
      "primary_text": [
        {
          "field": "title",
          "weight": 1.0,
          "notes": "High intent queries rely on product titles for relevance."
        },
        {
          "field": "tags",
          "weight": 0.7,
          "notes": "Tags cover seasonal drops (e.g. babyhalloween) and merchandising labels."
        }
      ],
      "secondary_text": [
        {
          "field": "product_type",
          "weight": 0.5
        },
        {
          "field": "vendor",
          "weight": 0.4
        }
      ],
      "metafields": [
        {
          "namespace": "custom",
          "key": "age_group",
          "type": "list"
        },
        {
          "namespace": "custom",
          "key": "material",
          "type": "list"
        },
        {
          "namespace": "custom",
          "key": "season",
          "type": "list"
        }
      ]
    },
    "facets": [
      {
        "handle": "product_type",
        "label": "Produktkategori",
        "type": "list",
        "source": {
          "type": "product",
          "field": "product_type"
        },
        "sort": "alpha",
        "visible": true
      },
      {
        "handle": "vendor",
        "label": "Leverandør",
        "type": "list",
        "source": {
          "type": "product",
          "field": "vendor"
        },
        "sort": "alpha",
        "visible": true
      },
      {
        "handle": "tags",
        "label": "Tags",
        "type": "list",
        "source": {
          "type": "product",
          "field": "tags"
        },
        "sort": "alpha",
        "visible": true
      },
      {
        "handle": "age_group",
        "label": "Aldersgruppe",
        "type": "list",
        "source": {
          "type": "metafield",
          "namespace": "custom",
          "key": "age_group"
        },
        "sort": "logical",
        "visible": true
      },
      {
        "handle": "material",
        "label": "Materiale",
        "type": "list",
        "source": {
          "type": "metafield",
          "namespace": "custom",
          "key": "material"
        },
        "sort": "alpha",
        "visible": true
      },
      {
        "handle": "season",
        "label": "Sesong",
        "type": "list",
        "source": {
          "type": "metafield",
          "namespace": "custom",
          "key": "season"
        },
        "sort": "logical",
        "visible": true
      }
    ],
    "sorting": {
      "default": "relevance",
      "options": [
        {
          "handle": "relevance",
          "label": "Mest relevant"
        },
        {
          "handle": "price-ascending",
          "label": "Pris: Lav til høy"
        },
        {
          "handle": "price-descending",
          "label": "Pris: Høy til lav"
        },
        {
          "handle": "created-descending",
          "label": "Nyheter"
        }
      ]
    },
    "recommendations": {
      "merchandising_rules": [
        {
          "handle": "boost-organic-materials",
          "description": "Boost organic cotton and eco-certified materials across baby apparel.",
          "conditions": [
            {
              "field": "product_type",
              "operator": "contains",
              "value": "baby"
            }
          ],
          "actions": [
            {
              "type": "boost",
              "field": "metafield.custom.material",
              "value": [
                "økologisk bomull",
                "gots-sertifisert"
              ],
              "weight": 1.25
            }
          ]
        }
      ],
      "related_products": {
        "strategy": "purchase_history",
        "fall_back": "trending"
      }
    }
  },
  "validation": {
    "minimum_fields": [
      "title",
      "tags",
      "product_type",
      "vendor",
      "metafield.custom.age_group",
      "metafield.custom.material",
      "metafield.custom.season"
    ],
    "test_query": {
      "term": "genser baby",
      "expectation": "Return products tagged for baby sweaters with organic materials boosted."
    },
    "notes": "Sync with Shopify Search & Discovery app after publishing theme changes."
  }
}
